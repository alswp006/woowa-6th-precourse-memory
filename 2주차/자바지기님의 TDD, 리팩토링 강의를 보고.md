- 이 글은 이번 프리코스를 진행하며 리팩토링에 대한 중요성을 많이 느껴 자바지기 박재성님의 TDD 리팩토링 우아한 테크세미나 강의를 보고 내용을 정리하기 위해 작성한 것입니다!
- 리팩토링의 고수가 되기를 꿈꾸며.. 공부를 시작해보겠습니다..!!

# 의식적인 연습

- 우선 강의의 시작은 리팩토링을 잘하고 개발을 잘하는 근본적인 방법에 대해 설명해주셨습니다.
- 무조건 연습을 많이 한다고 잘 하는 것이 아니라 의식적인 연습을 해야 한다고 하셨습니다.

## 의식적인 연습의 7가지 원칙

- 첫째, 효과적인 훈련 기법이 수립되어있는 기술 연마
- 둘째, 개인의 컴포트 존을 벗어난 지점에서 진행, 자신의 현재 능력을 살짝 넘어가는 작업을 지속적으로 시도
    - 운동도 한계를 넘어야 근육이 붙듯이 공부도 똑같이 자신의 현재 능력을 살짝 넘어가도록 공부해야한다.
- 셋째, 명확하고 구체적인 목표를 가지고 진행
- 넷째, 신중하고 계획적이다. 즉, 개인이 온전히 집중하고 ‘의식적’으로 행동할 것을 요구
- 다섯째, 피드백과 피드백에 따른 행동 변경을 수반
    - 피드백을 할 수 있는 환경 조성 필요
- 여섯째, 효과적인 심적 표상을 만들어내는 한편으로 심적 표상에 의존
- 일곱째, 기존에 습득한 기술의 특정 부분을 집중적으로 개선함으로써 발전시키고 수정하는 과정을 수반
    - 마우스를 쓰지않고 단축키를 사용하기 위한 연습 등

## 의식적인 연습 예시

- 우테코 프리코스(이전 기수)
    - 3주간 매주 해결해야할 미션 부여
    - 미션 완료 후 PR로 제출
    - 각 PR 평가 후 피드백

# 의식적인 연습으로 TDD, 리팩토링 적용 -개인

- TDD, 리팩토링 == 운동
    - 평생 연습하겠다는 마음가짐으로 시작
    - 꾸준히 하는 것이 힘들지만 어차피 평생 해야하는 일
    - **단기간에 하자는 욕심을 버리자.**
- 주변 정리해 꾸준히 연습할 시간 확보
- 시작하기 - 장난감 프로젝트 찾기
    - 주변 환경에 영향을 받지 않고 꾸준히 연습하기 위함

## 1단계 단위 테스트 연습

- 내가 사용하는 API 사용법을 익히기 위한 학습 테스트에서 시작
    - 자바 String 클래스의 다양한 메소드 사용법
    - 자바 ArrayList에 데이터를 추가, 수정, 삭제하는 방법
- 연습 효과
    - 단위테스트 방법을 학습할 수 있고 단위테스트 도구의 사용법을 익힐 수 있다.
    - 사용하는 API에 대한 학습 효과가 있다.
- 내가 구현하는 메소드 중 Input과 Output이 명확한 클래스 메소드(보통 Util 성격의 메소드)에 대한 단위 테스트 연습

## 2단계 TDD 연습

- 어려운 문제를 해결하는 것이 목적이 아니라 TDD 연습이 목적
- 난이도가 낮거나 자신에게 익숙한 문제로 시작하는 것을 추천
- 웹, 모바일 UI나 DB에 의존관계를 가지지 않는 요구사항으로 연습한다.

### 예제

- 문자열 덧셈 계산기 요구사항
    - 쉼표 또는 콜론으로 구분자를 가지는 문자열을 전달하는 경우 구분자를 기준으로 분리한 각 숫자의 합을 반환
- 유닛 테스트 만들기

### TDD 생명 주기

1. 실패하는 테스트
2. 가장 빠른 시점에 패스
3. 리팩토링 (다시 1번으로 이동)
- 각 단계를 따로 연습할 수 있다.
    - 1번 2번을 반복하여 연습할 수도 있다.

## 3단계 메소드 분리 리팩토링

- 테스트 코드는 변경하지 말고 프로덕트 코드를 변경해보자
- compose method 패턴 적용
    - 메소드의 의도가 잘 드러나도록 동등한 수준의 작업을 하는 여러 단계로 나눈다.

### 예시

- 한 메소드에 오직 한 단계의 들여쓰기만 한다.
- else 예약어를 쓰지 않는다.
- 메소드가 한가지 일만 하도록 구현하기

## 리팩토링 연습 - 클래스 분리

- 클래스 분리 연습을 위해 활용할 수 있는 원칙
    - 일급 콜렉션을 쓴다.
    - 3개 이상의 인스턴스 변수를 가진 클래스를 쓰지 않는다.

## 4단계 장난감 프로젝트 난이도 높이기

- 점진적으로 요구사항이 복잡한 프로그램 연습

### TDD, 리팩토링 연습하기 좋은 프로그램 요구사항

- 게임과 같이 요구사항이 명확한 프로그램으로 연습
- 의존관계(모바일 UI, 웹 UI, 데이터베이스, 외부 API와 같은 의존관계)가 없이 연습
- 약간은 복잡한 로직이 있는 프로그램
    - 로또
    - 사다리 타기
    - 볼링 게임 점수판
    - 체스 게임
    - 지뢰 찾기 게임

## 5단계 의존 관계 추가를 통한 난이도 높이기

- 웹 UI, 모바일 UI, 데이터베이스와 같은 의존관계를 추가
- 필요한 역량
    - 테스트하기 쉬운 코드와 테스트하기 어려운 코드를 보는 눈
    - 테스트하기 어려운 코드를 테스트하기 쉬운 코드로 설계하는 센스

## 한 단계 더 나아간 연습을 하고 싶다면

- 컴파일 에러를 최소화하면서 리팩토링하기
- ATDD 기반으로 응용 애플리케이션 개발하기
- 레거시 애플리케이션에 테스트 코드 추가해 리팩토링하기

## 구체적인 연습 목표 찾기

- 객체지향 생활체조 원칙
- 클린 코드 책
- 이펙티브 자바

# 정리

- 이번 강의는 제 기술적인 성장보다 개발 공부 방법에 대한 생각을 많이 하게 된 강의였던 것 같습니다.
- 처음에 말씀하셨던 컴포트 존과 TDD, 리팩토링을 단기간에 하려고 하는 욕심을 버리라는 말씀이 가장 와닿았는데요.
- 사실 오늘 공부한 부분 중 SOLID라는 내용을 공부하며 정말 어려워서 힘들었는데 이게 컴포트 존을 넘는 공부라고 생각하니 오히려 더 의욕이 생겨 공부할 수 있을 것 같습니다.
- 그리고 TDD, 리팩토링을 단기간에 하려고 하는 욕심을 버리라는 말씀도 제 개발 성장에 너무 조급한 마음을 가지고 있던 저의 마음을 조금 더 단기적인 목표에 더 집중을 하려고 다시 마음먹은 계기가 되었습니다.
- 결론은 이런 TDD, 리팩토링을 잘 연습할 수 있는 프리코스에 집중하자!라는 것이 되겠네요!
