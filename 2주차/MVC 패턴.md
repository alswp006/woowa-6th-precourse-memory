# MVC 패턴을 공부하는 이유📖

- 저번 1주차의 미션을 완성하고 다른 분들의 코드를 둘러보고 디스코드에서 많은 정보를 공유받았는데 MVC패턴에 대한 얘기가 많이 나왔습니다!
- 저도 이전 김영한 님의 Spring 강의를 들으며 MVC 패턴이라는 것의 대략적인 내용을 이해하고 있는 상태였고 2주차 미션에는 한 번 자세히 공부하여 적용해보자는 마음을 가지고 있었습니다!
- “우선 저는 지금 돌아가는 쓰레기라도 먼저 만들자!” 라는 마음으로 1주차 미션에서 했던 것과 비슷하게 프로그램을 구성해놓은 상태입니다!
    - 현재의 프로그램 구성은 이렇습니다
    - Application : main함수를 포함하며 전체 클래스들을 사용하여 게임을 진행시키는 클래스
    - CarInput : 사용자의 입력을 받는 클래스
    - ValidCheck : 사용자 입력에 대한 유효성을 검사하는 클래스
    - CarMove : 게임이 진행되고 차의 움직임을 저장하는 클래스
    - PrintResult : 차량의 움직임과 최종 우승자를 출력하는 클래스
- 그럼 MVC패턴을 공부하여 제 코드에 적용해보는 시간을 가지겠습니다!

# MVC 패턴

- 우선 MVC 패턴이 뭔지를 알아야겠죠??
- MVC 패턴은 Model-View-Controller의 약어로 애플리케이션 개발에 사용되는 디자인 패턴입니다!
    - 디자인 패턴이란 애플리케이션을 개발, 설계할 때 발견된 반복적인 패턴들을 정리해놓은 것입니다!
    - 즉, 반복적으로 일어나는 문제들에 대한 솔루션이라고 볼 수 있습니다!
- 우선 Model, View, Controller가 뭔지 알아보고 MVC패턴의 장점과 간단한 예시를 알아보겠습니다.

## Model

- Model이란 애플리케이션의 데이터, 정보를 나타내고 처리하는 영역입니다.
- Model을 다음과 같은 규칙을 가지고 있습니다.
    1. 사용자가 편집하길 원하는 모든 데이터를 가지고 있어야 한다.
        - 화면 안에 글자가 위치한다면 그 글자에 대한 위치 정보, 내용, 글자의 포맷 등을 model이 가지고 있어야 합니다.
    2. View와 Controller에 의존적이지 않아야 한다.
    3. 변경이 일어나면, 변경 통지에 대한 처리방법을 구현해야만 한다.
        - 화면의 글자에 대한 정보가 변경되면 이벤트를 발생시켜 누군가에게 전달해야하며 누군가 변경 요청에 대한 이벤트를 보낸다면 이를 수신하여 처리할 방법을 구현해야 한다.

## View

- View는 애플리케이션 사용자에게 보이는 화면입니다.
- 아래에서 설명할 Controller에서 받은 데이터의 출력과 화면의 디자인 등을 처리하는 영역입니다.
- 저희가 진행하는 프리코스 2주차 미션인 자동차 경주에서는 화면의 디자인이 필요하지 않으니 데이터의 출력등 화면에 출력되는 부분에 적용할 수 있을 것 같습니다.
- View에도 다음과 같은 규칙이 있습니다.
    1. Model이 가지고 있는 정보를 저장해서는 안된다.
        - 화면에 글자 같은 것을 출력하기 위해서는 Model에서 데이터를 전달받게 될 것입니다. 이 때 그 정보를 다시 사용하거나 유지하기 위해 저장을 하면 안됩니다.
    2. Model이나 Controller와 같이 다른 구성요소들을 몰라야 된다.
        - 위 model 규칙의 2번과 동일합니다. 본인의 요소 빼고는 아무것도 몰라야 합니다. 예를 들면 데이터를 받아서 화면에 출력할 때 데이터에 대해 알 필요는 없고 그냥 그것을 화면에 출력해주기만 하면 됩니다.
    
    3. 변경이 일어나면 변경통지에 대한 처리방법을 구현해야만 한다.
    
    - 이 부분도 model과 동일하게 변경이 일어났을 때 이를 누군가에게 변경을 알려줘야 하는 방법을 구현해야 합니다. 만약 화면에서 사용자가 내용을 변경하면 이를 모델에게 전달하여 모델을 변경해야할 것입니다.

## Controller

- Comtroller는 MVC 패턴의 핵심이며 사용자 요청에 중심에 위치합니다.
- 사용자의 요청은 바로 View로 가는 것이 아니라 무조건 Controller를 통해야하고 Controller는 이를 처리하고 View에 전달합니다. 즉, 데이터와 사용자인터페이스 요소들을 잇는 다리역할을 합니다.
- Controller에도 다음과 같은 규칙이 있습니다.
    1. 모델과 뷰에 대해서 알고 있어야 한다.
        - Controller는 Model이나 View를 중재하여 컨트롤하기 위해서 이들에 대해서 알고 있어야합니다. 예를 들어 Controller는 특정 View를 지정해줘야 합니다.
    2. 모델이나 뷰의 변경을 모니터링 해야 한다.
        - 모델이나 뷰의 변경 통지를 받으면 이를 해석해서 각각의 구성 요소에게 통지를 해야 합니다.
- 애플리케이션의 메인 로직은 컨트롤러가 담당하게 됩니다.
- 그러므로 프로그램의 규모가 커질수록 Controller의 역할과 부담이 커지게 되므로 복잡해지고 관리가 어려워집니다.
- 이런 Controller의 부담을 줄여주기 위해 Service단이 있고 유지보수를 위해 태어났다고 합니다. 이는 추후 Service단이 필요하게 된다면 더 자세히 공부해보도록 하겠습니다.

## MVC 패턴의 장점

- 그렇다면 이런 MVC 패턴을 왜 사용해야할까요?
- 바로 가장 큰 장점은 분업으로 인한 장점이 있습니다.
- 프로그램의 일을 분할하여 각자의 역할에 집중하게 만든다면 아래와 같은 많은 장점들이 있습니다.
    - 단순하고 직관적이다.
    - 각자의 역할에 맞게 분리되어있어서 수정 및 **유지보수에 용이**하다.
    - 코드의 재사용성, 애플리케이션의 확장성, 새로운 요구사항에 대한 유연성이 증가한다.

## MVC 패턴의 단점

- Controller와 View가 강하게 결합되어 있다.
    - View가 조금만 수정되어도 Controller를 같이 수정해야 한다.

## Domain과 Service

- 다른 분들의 코드를 보며 가장 의문을 가졌던 부분입니다!
- MVC패턴을 적용한다 했는데 Model, View, Controller는 없고 왠 Domain 패키지와 Service 패키지가 있길래 많은 당황을 했었습니다..
- 이들이 누구인지 알아봅시다!!

### Domain

- **도메인(Domain)**
    - “일반적인 요구사항, 전문 용어, 그리고 컴퓨터 프로그래밍 분야에서 **문제를 해결하기 위해 설계된 어떤 소프트웨어 프로그램에 대한 기능성을 정의**하는 연구의 한 영역이다” (출처 : [위키백과](https://ko.wikipedia.org/wiki/%EB%8F%84%EB%A9%94%EC%9D%B8_(%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4_%EA%B3%B5%ED%95%99)))
    - 또한 MVC 패턴의 Model 부분을 구성합니다.
    - 정리해보면 애플리케이션의 요구사항에 대한 기능을 개발하는 영역입니다.
- 이러한 도메인들은 다시 하위 도메인으로 나눌 수 있다고 합니다!

### Service

- 위에서 프로그램의 규모가 커질수록 Controller가 복잡해질 수도 있으니 Service단을 따로 둔다고 했었습니다.
- Controller 단에 비즈니스 로직을 두면 너무 복잡하고 커질 것을 대비하여 Service단을 만들어 여기에 비즈니스 로직을 둔다고 합니다.
- 저는 2주차 미션에 MVC 패턴을 적용할 때 기능은 Model에 다 넣어두고 Controller에서 이들을 사용하여 로직을 구현하였는데 Service단에 비즈니스 로직을 구현하고 Controller에서 이를 가져다 써야한다고 합니다.
- 생각해보면 MVC패턴이라는 것이 유지보수에 용이하게 만들기 위해 나왔는데 Controller가 전체 비즈니스 로직을 가진다는 것은 꽤나 복잡하고 간단하지 않은 프로그램을 만들게 할 수도 있다는 생각이 듭니다!
- 2주차 미션에 Service단을 적용하여 한번 만들어봐야겠습니다..

## 정리

- Model : 데이터와 비즈니스 로직을 담당, 데이터를 처리하는 부분
- View : 사용자에게 정보를 표시하는 부분
- Controller : 사용자의 입력을 처리하고 Model과 View를 관리하는 부분
- MVC 패턴을 지키면서 코딩하는 방법
    1. Model은 Controller와 View에 의존하지 않아야 합니다.
        
        → Model 내부에 Controller와 View에 관련된 코드를 가지고 있으면 안됩니다.
        
    2. View는 Model에만 의존해야하고 Controller에 의존하면 안됩니다.
        
        → View 내부에는 Model의 코드만 있을 수 있고 Controller의 코드가 있으면 안된다.
        
    3. View가 Model로부터 데이터를 받을 때는 사용자마다 다르게 보여주어야하는 데이터만 받아야한다.
        - 자동차 경주같은 경우에서 사용자마다 다른 데이터는 자동차의 움직임 상황?
    4. Controller는 Model과 View에 의존해도 된다.
        
        → Controller 내부에는 Model과 View의 코드가 있을 수도 있다.
        
    5. View가 Model로부터 데이터를 받을 때 반드시 Controller를 통해 받아야 한다.

## 참고 자료(추천👍)

- [제리의 MVC 패턴](https://www.youtube.com/watch?v=ogaXW6KPc8I)
    - 이 영상을 보면서 막연하게 생각했던 MVC패턴과 이론으로 정립되어있던 지식들이 조금 더 와닿게 된 것 같습니다!
    - Model과 Controller의 사용이 헷갈리고 제가 “이 패턴을 어떻게 내 코드에 적용할까?”라는 어려움이 있었을 때 길을 많이 열어준 영상이라고 생각합니다!
    - 진짜 MVC 패턴을 공부는 했는데 어떻게 사용해야할지 모르겠다면 이 영상 보시는거 강추 드립니다!!
- [도기의 MVC 패턴](https://www.youtube.com/watch?v=Yzx-z6kCD2A)
    - 이 영상은 조금 더 MVC 패턴에 대해 본질적인 부분을 다룬 영상입니다!
    - 무작정 MVC 패턴이라는 틀에 갇혀서 생각하던 저에게 조금 더 본질적인 문제, 즉 코드를 유지보수에 용이하게 하기 위함이라는 MVC 패턴과 디자인 패턴들에 대한 생각을 가지게 해준 영상이라고 생각합니다.
    - 디자인 패턴들에 대해 더 유연한 생각을 갖게 해준 영상이라 생각합니다. 감사합니다!
- 그 외 구글링
    
    ![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/0ee43fab-2947-49b1-b42b-cf1eb07e56bc/502402e8-3f21-46aa-bd3e-8bf6f2c4a8f2/Untitled.png)
    
    - 포스팅 해주신 분들께 감사합니다!
